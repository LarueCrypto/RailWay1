{
  "$schema": "https://railway.app/railway.schema.json",
  "name": "Goal Quest - Gamified Habit Tracker",
  "description": "Transform your personal development journey into an epic RPG adventure with gamified habit tracking and goal management",
  "icon": "https://raw.githubusercontent.com/YOUR_USERNAME/goal-quest/main/client/public/favicon.png",
  "services": [
    {
      "name": "goal-quest-app",
      "source": {
        "repo": "YOUR_USERNAME/goal-quest"
      },
      "build": {
        "builder": "NIXPACKS",
        "buildCommand": "npm run build"
      },
      "deploy": {
        "startCommand": "npm start",
        "restartPolicyType": "ON_FAILURE",
        "restartPolicyMaxRetries": 10
      },
      "healthcheck": {
        "path": "/api/health",
        "timeout": 100,
        "interval": 60
      },
      "env": {
        "NODE_ENV": {
          "description": "Node environment",
          "value": "production"
        },
        "OPENAI_API_KEY": {
          "description": "OpenAI API key for AI features (get from https://platform.openai.com)",
          "required": true
        },
        "ANTHROPIC_API_KEY": {
          "description": "Anthropic Claude API key for AI Coach (get from https://console.anthropic.com)",
          "required": true
        },
        "SESSION_SECRET": {
          "description": "Secure random string for session encryption",
          "generator": "secret"
        },
        "ENABLE_AI_COACH": {
          "description": "Enable AI coaching features",
          "value": "true"
        },
        "ENABLE_SHOP_SYSTEM": {
          "description": "Enable in-game shop",
          "value": "true"
        },
        "ENABLE_ACHIEVEMENTS": {
          "description": "Enable achievement system",
          "value": "true"
        },
        "MAX_FILE_SIZE": {
          "description": "Maximum file upload size in bytes",
          "value": "10485760"
        },
        "LOG_LEVEL": {
          "description": "Logging level",
          "value": "info"
        }
      }
    },
    {
      "name": "postgres",
      "type": "postgresql",
      "plan": "hobby",
      "env": {
        "POSTGRES_DB": {
          "value": "goalquest"
        }
      }
    }
  ],
  "volumes": [
    {
      "name": "uploads",
      "mountPath": "/app/uploads"
    }
  ],
  "env": {
    "DATABASE_URL": {
      "reference": "postgres.DATABASE_URL"
    }
  }
}
